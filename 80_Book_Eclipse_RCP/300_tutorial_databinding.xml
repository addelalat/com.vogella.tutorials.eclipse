<chapter id="tutorial_databinding">
	<title>Exercise: Data binding for SWT widgets
[[tutorial_databinding1">
=== Add new plug-in dependencies to the application plug-in
		
			In the
			<filename>MANIFEST.MF</filename>
			, add the following plug-ins as dependencies to your
			application
			plug-in.

			<itemizedlist>
				<listitem>
					org.eclipse.core.databinding
					
				</listitem>
				<listitem>
					
						org.eclipse.core.databinding.beans
					
				</listitem>
				<listitem>
					
						org.eclipse.core.databinding.property
					
				</listitem>
				<listitem>
					org.eclipse.jface.databinding
					
				</listitem>
			</itemizedlist>
		
	
[[tutorial_databinding2">
=== Add the plug-in dependencies to the model plug-in
		
			Add
			<code>org.eclipse.core.databinding</code>
			as dependency to the
			<filename>MANIFEST.MF</filename>
			file of the
			<code>com.example.e4.rcp.todo.model</code>
			plug-in.
		
	
[[tutorial__databinding2">
=== Update your Todo data model to be observable

		
			Add constants for the property name in your
			<code>Todo</code>
			class for them to use them later in data binding. The constants must reflect the bean property names in the
			class,
			otherwise, the data binding will not find the
			right property
			to bind to. Also, change your
			<code>Todo</code>
			class to use
			<code>WritableValue</code>
			for its members.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" parse="text" href="../examples/databinding/Todo.java" />
			</programlisting>
		
	


[[tutorial_databinding3">
=== Remove the modification listeners in your code
		
			Delete your
			<code>addModifyListener()</code>
			methods in the
			<code>TodoDetailsPart</code>
			class. The synchronization between the
			<code>Todo</code>
			object and the user interface will be handled by the JFace Data
			Binding framework.
		
		<warning>
			
				Ensure to remove these listeners. Otherwise you will see "strange"
				side-effects like jumping cursors. Ensure that you
				removed it, via a text search for
				<code>ModifyListener</code>
				term in your
				<code>TodoDetailsPart</code>
				class.
			
		</warning>

	

[[tutorial_databinding4b">
=== Implement data binding in TodoDetailsPart

		
			Change your implementation of the
			<code>TodoDetailsPart</code>
			class
			to use data binding based on the following example code.
		

		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" parse="text" href="../examples/databinding/Binding.java" />
			</programlisting>
		

	
[[tutorial_databinding_validate">
=== Validating
		
			Use your wizard to create new
			<code>Todo</code>
			objects. The following screenshot shows the first page of the wizard.
		
		
image::newtodo_wizard10.png" />
				</imageobject>
				<textobject>
					<phrase>,pdfwidth=60%]
		
		
			Test if your implementation behaves correctly. Ensure that new Todo
			objects
			are
			shown in the
			table after pressing the
			_Load data_
			button.
		
		
image::newtodo_wizard20.png" />
				</imageobject>
				<textobject>
					<phrase>,pdfwidth=60%]
		
		<note>
			
				Your detail part
				is currently not supplied with a Todo, only
				the
				wizard can currently be used to test the
				databinding. This will be change
				in a later exercise.
			
		</note>
	
</chapter>
