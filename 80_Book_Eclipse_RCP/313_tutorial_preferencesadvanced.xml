[[tutorial_preferences_application">
== Exercise: Using preferences in a handler and in a part

=== Target
		
			In this exercise you modify the handler within the
			application to
			enter the user and listen to
			changes in the
			corresponding
			preference
			values in a part.
		
		NOTE:
			We do not persists the password in this exercises, because
				persisting passwords without encryption is a security risk.
			
		
	

=== Using preferences in your handler
		
			Extend your
			`EnterCredentialsHandler`
			handler to get and store the user via
			the preference
			values. As
			_nodePath_
			is not explicitly set for the
			`@Execugte`
			method, it uses 
			_com.example.e4.rcp.todo_, 
			which is the Bundle-SymbolicName of your application plug-in.
		
		
[source,java]
----
include::res/preferences/EnterCredentialsHandler.java[]
----
		

		NOTE:
			

			
		
		NOTE:
			
				The
				`@Preference`
				annotation
				is not yet released as official API. See
				<<e4overview_api>>
				.
			
		

		
			For test purpose listen to preference changes in your playground
			view and
			print the values to the console.
		
		
[source,java]
----
include::res/preferences/Listen.java[]
----
		
	

=== Validating the implementation
		
			Start your application. Use the menu entry which uses the
			`EnterCredentialsHandler`
			handler and enter a user into the dialog.
			Close the dialog and open
			it
			again via the menu. The last entered user should
			be displayed.
		

	

</chapter>