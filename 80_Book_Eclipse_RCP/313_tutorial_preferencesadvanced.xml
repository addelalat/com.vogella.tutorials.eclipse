<chapter id="tutorial_preferences_application">
== Exercise: Using preferences in a handler and in a part

=== Target
		
			In this exercise you modify the handler within the
			application to
			enter the user and listen to
			changes in the
			corresponding
			preference
			values in a part.
		
		<note>
			We do not persists the password in this exercises, because
				persisting passwords without encryption is a security risk.
			
		</note>
	

=== Using preferences in your handler
		
			Extend your
			`EnterCredentialsHandler`
			handler to get and store the user via
			the preference
			values. As
			<parameter>nodePath</parameter>
			is not explicitly set for the
			`@Execugte`
			method, it uses 
			_com.example.e4.rcp.todo_, 
			which is the Bundle-SymbolicName of your application plug-in.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/preferences/EnterCredentialsHandler.java" />
			</programlisting>
		

		<note>
			

			
		</note>
		<note>
			
				The
				`@Preference`
				annotation
				is not yet released as official API. See
				<xref linkend="e4overview_api" />
				.
			
		</note>

		
			For test purpose listen to preference changes in your playground
			view and
			print the values to the console.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/preferences/Listen.java" />
			</programlisting>
		
	

=== Validating the implementation
		
			Start your application. Use the menu entry which uses the
			`EnterCredentialsHandler`
			handler and enter a user into the dialog.
			Close the dialog and open
			it
			again via the menu. The last entered user should
			be displayed.
		

	

</chapter>