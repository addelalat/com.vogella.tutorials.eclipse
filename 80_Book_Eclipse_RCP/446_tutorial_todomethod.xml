<chapter id="tutorial_api">
== Exercise: Prepare TodoDetailsPart for data

=== Preparing for data
		
			The
			`TodoDetailsPart`
			class
			will be used to modify data of
			`Todo`
			objects. In this exercise we prepare the class so it contains a
			`Todo`
			setter method, which can be called by the Eclipse framework.
		
	


=== Add dependency
		
			Add the
			`org.eclipse.e4.ui.services`
			plug-in as dependency to your application plug-in via
			the
			_MANIFEST.MF_
			file. This is required to use the
			`IServiceConstants`
			interface in the next section.
		
	

=== Prepare for dependency injection
		
			To be able to set the
			`Todo`
			object from outside create a
			`setTodo(Todo todo)`
			method in the
			`TodoDetailsPart`
			class.
		
		
			Use the following example code to create the method.
			This method uses
			annotations so that the current active
			selected
			`Todo`
			object can be injected into it.
			It uses a special String key defined
			by the
			`IServiceConstants.ACTIVE_SELECTION`
			constant. The
			`setTodo`
			method updates your user interface
			via the
			`updateUserInterface(Todo todo)`
			method,
			whenever a
			`Todo`
			object is set.
			It also disables the widgets if the Todo object is not
			yet
			set.
		

		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text"
					href="../examples/selection/TodoDetailsPartWithoutDataBinding.java[]
----
		

		
			In this method
			you have to check the availability
			of the SWT widgets
			because
			you
			cannot be
			sure that the
			`@PostConstruct`
			method has
			already
			been called.
		
	

=== Usage of this method
		
			At the moment the
			`setTodo()`
			method
			is not called with a
			`Todo`
			object.
			Neither by the Eclipse
			framework, nor by your coding.
			You
			call
			this method in
			<<tutorial_wizard" />
			and the Eclipse framework uses this method
			after you implement the
			changes in
			<<tutorial_usingeselectionservice" />
			.
		
	

</chapter>