<chapter id="exercise_contextinjection">
	<title>Optional exercise: Dependency injection for your objects
[[exercise_contextinjectiontarget">
=== Target of this exercise

		 The following demonstrates the usage of dependency injection
			framework of Eclipse
			for creating objects.
		
		
			In this exercise you create an instance of the
			<code>TodoWizard</code>
			via the
			<code>ContextInjectionFactory.make()</code>
			method.
		
	
[[exercise_contextinjection_prepare">
=== Prepare the wizard classes for dependency injection 
		
			Add the
			<code>@Inject</code>
			annotation to the constructor of your
			<code>TodoWizardPage1</code>
			class.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/wizardcreatedwithdependencyinjection/TodoWizardPage1.java" />
			</programlisting>
		


		
			Add the
			<code>@Inject</code>
			annotation to the constructor of your wizard and to the two fields
			for the wizard pages.
		

		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/wizardcreatedwithdependencyinjection/TodoWizard.java" />
			</programlisting>
		
	
[[exercise_doit">
=== Create the wizard via dependency injection 
		
			In your handle which opens the wizard get the
			<code>IEclipseContext</code>
			injected and
			create a new
			<code>IEclipseContext</code>
			with the
			<code>createChild()</code>
			method.
		
		
			Create a new Todo via the
			<code>new()</code>
			Operator.
			Add the new
			<code>Todo</code>
			to your local context under the
			<code>Todo.class</code>
			key.
		

		
			Also create the two wizard pages and add them to the created
			IEclipseContext. Afterwards created the wizard via the
			<code>ContextInjectionFactory</code>
			class as demonstrated by the following code.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/wizardcreatedwithdependencyinjection/NewTodoHandler.java" />
			</programlisting>
		



	
</chapter>