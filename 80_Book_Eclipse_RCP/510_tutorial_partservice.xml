<chapter id="tutorial_usingpartservice">
	<title>Exercise: Enable handlers and avoiding data loss</title>

	<section id="tutorial_usingpartservice_save">
		<title>Enable the save handler only if necessary</title>
		<para>
			Change your
			<code>SaveAllHandler</code>
			class so that the
			<wordasword>save</wordasword>
			handler is only active if there is a
			part
			in the model which has its
			<code>dirty</code>
			attribute set to true.
		</para>
		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/snippets/cansave.txt" />
			</programlisting>
		</para>

	</section>

	<section id="tutorial_usingpartservice_deletion">
		<title>Enable the deletion handler only if necessary</title>
		<note>
			<para>This exercise is optional.</para>
		</note>
		<para>
			Similar to
			<xref linkend="tutorial_usingpartservice_save" />
			enable the deletion handler for todos only if a
			<code>Todo</code>
			is selected.
		</para>
	</section>

	<section id="tutorial_usingpartservice_2">
		<title>Avoid data loss in your ExitHandler</title>
		<para>
			Change your
			<code>ExitHandler</code>
			class so that in the case of a dirty editor the user is prompted
			if he
			wants to save the data.
		</para>
		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/snippets/exit.txt" />
			</programlisting>
		</para>

	</section>

</chapter>
