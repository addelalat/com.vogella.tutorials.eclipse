<chapter id="exercise_customselectionservicepre">
== Optional exercise: Using the selection service

=== Create project and use the Eclipse selection service
		NOTE:
			This exercise is optional.
		
		
			Create a new Eclipse 4 RCP application using the wizard and
			ensure that the
			sample content is created.
		
		
			Add another part to your application pointing to the
			`ListenerPart`
			class, which should look similar to the following listing.
		
		
[source,java]
----
include::res/replaceselectionservice/ListenerPartFirst.java[]
----
		
		
			Adjust your
			`SamplePart`
			to send out the selection.
		
		
[source,java]
----
include::res/replaceselectionservice/SamplePartFirst.java[]
----
		
		Start your application and ensure the text entered in the first
			part is propagated to the second part.
		
	

=== Understand Eclipse selection service
		The Eclipse selection service sets the selection for the current
			window. Verify that by adding a new perspective your
			application.
		
		
image::CustomSelectionService_twoPerspectives10.png"
						scale="40[Two perspectives,pdfwidth=60%]
		
		Set the selection and switch between these perspectives with
			following handler.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text"
					href="./examples/replaceselectionservice/SwitchPerspectiveHandler.java[]
----
		

		
			Verify that the selection in both parts based on
			`ListenerPart`
			is the same.
		

	
</chapter>
