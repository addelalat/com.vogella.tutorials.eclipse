<chapter id="exercise_customselectionservice">
	<title>Exercise: Development a custom selection service
[[exercise_customselectionservice3">
=== Develop custom selection service
		<note>
			
				This exercise is optional and based on
				<xref linkend="exercise_customselectionservice1" />
				.
			
		</note>
		
			In the project you created in
			<xref linkend="exercise_customselectionservice1" />
			create the following class, which is a simple
			version of a new
			custom
			selection service, which uses the context to
			persists the
			selection.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/MySelectionService.java" />
			</programlisting>
		
	
[[exercise_customselectionservice4">
=== Create the context function implementation

		Create the following class which will be used as context
			function.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/MyContextFunction.java" />
			</programlisting>
		
	

[[exercise_customselectionservice5">
=== Register the context function via a model add-on
		Define the following class. 
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text"
					href="./examples/replaceselectionservice/ReplaceSelectionService.java" />
			</programlisting>
		

		This class is registered as model
			add-on.
		
		
image::customselection_serviceaddon.png"
						scale="40" />
				</imageobject>
				<textobject>
					<phrase>Creating an add-on,pdfwidth=60%]
		
	
[[exercise_customselectionservice6">
=== Update your parts to use the new selection service
		Adjust your parts, so that they use the new service.
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/ListenerPart.java" />
			</programlisting>
		
		
			Adjust your
			<code>SamplePart</code>
			to send out the selection.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/SamplePart.java" />
			</programlisting>
		
	

</chapter>
