<chapter id="exercise_customselectionservice">
== Exercise: Development a custom selection service

=== Develop custom selection service
		NOTE:
			
				This exercise is optional and based on
				<xref linkend="exercise_customselectionservice1" />
				.
			
		</note>
		
			In the project you created in
			<xref linkend="exercise_customselectionservice1" />
			create the following class, which is a simple
			version of a new
			custom
			selection service, which uses the context to
			persists the
			selection.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/MySelectionService.java[]
----
		
	

=== Create the context function implementation

		Create the following class which will be used as context
			function.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/MyContextFunction.java[]
----
		
	


=== Register the context function via a model add-on
		Define the following class. 
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text"
					href="./examples/replaceselectionservice/ReplaceSelectionService.java[]
----
		

		This class is registered as model
			add-on.
		
		
image::customselection_serviceaddon.png"
						scale="40[Creating an add-on,pdfwidth=60%]
		
	

=== Update your parts to use the new selection service
		Adjust your parts, so that they use the new service.
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/ListenerPart.java[]
----
		
		
			Adjust your
			`SamplePart`
			to send out the selection.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/replaceselectionservice/SamplePart.java[]
----
		
	

</chapter>
