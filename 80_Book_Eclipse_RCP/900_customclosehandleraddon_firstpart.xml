<section id="exercise_modeladdonclose" role="wrapper">
	<title>Optional exercise: Changing the close behavior via an add-on</title>
	<section id="exercise_modeladdonclose1">
		<title>Target</title>
		<para>
			In this exercise you ensure that the user is prompted if he
			wants to leave the application with some unsaved
			changes. This should also work if he presses
			the close button
			of the application corner.
		</para>
	</section>

	<section id="exercise_modeladdonclose_create">
		<title>Creating a plug-in</title>
		<para>
			Create a new simple plug-in called
			<code>com.vogella.e4.addon.exitconfirmation</code>
			.
		</para>
		<para>
			Add the following dependencies to your plug-in.
			<itemizedlist>
				<listitem>
					<para>org.eclipse.core.runtime
					</para>
				</listitem>
				<listitem>
					<para>org.eclipse.e4.ui.di</para>
				</listitem>
				<listitem>
					<para>org.eclipse.e4.ui.model.workbench</para>
				</listitem>
				<listitem>
					<para>org.eclipse.e4.ui.workbench</para>
				</listitem>
				<listitem>
					<para>org.eclipse.e4.core.di</para>
				</listitem>
				<listitem>
					<para>org.eclipse.jface</para>
				</listitem>
				<listitem>
					<para>org.eclipse.e4.core.contexts</para>
				</listitem>
				<listitem>
					<para>org.eclipse.osgi.services</para>
				</listitem>
			</itemizedlist>
		</para>
	</section>
	<section id="exercise_modeladdonclose_createclass">
		<title>Creating the model add-on</title>
		<para>Define the following class which is used as model add-on </para>
		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" parse="text"
					href="./examples/modeladdon/WindowCloseListenerAddon.java" />
			</programlisting>
		</para>

	</section>

</section>