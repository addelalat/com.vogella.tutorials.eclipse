<section id="contributecomponents">
	<title>Constructing the runtime application model</title>
	<section id="contributecomponents_userchanges">
		<title>User Changes</title>
		<para>
			Changes
			during
			runtime,
			are
			written back
			to the
			model. An example for
			such a change is that the
			user moves a
			part to a
			new container via drag
			and drop.
		</para>
		<para>
			If the RCP application is closed, theses changes are
			recorded and
			saved
			independently in a
			<filename>workbench.xmi</filename>
			file in the
			<filename>.metadata/.plugins/org.eclipse.e4.workbench</filename>
			folder.
		</para>
		<tip>
			<para>
				User changes can be deleted at start of your application via the
				<parameter>clearPersistedState</parameter>
				parameter as a launch parameter. In most cases this is undesired behavior for an exported application and only used
				during development.
			</para>
		</tip>
	</section>
	<section id="contributecomponents_overview">
		<title>Runtime application model</title>
		<para>
			At runtime the application model of an Eclipse application
			consists of
			different
			components:
			<itemizedlist>
				<listitem>
					<para>Application model - By default defined via the
						Application.e4xmi file
					</para>
				</listitem>
				<listitem>
					<para>Model contributions - Based on fragments and processors
					</para>
				</listitem>
				<listitem>
					<para>User changes - Changes the user did to the user interface
						during his last usage
					</para>
				</listitem>
			</itemizedlist>
		</para>
		<para>
			These different components of the runtime application model need
			to be
			combined.
		</para>

		<para> The Eclipse platform creates the runtime application model
			based on the initial
			application model
			(Application.e4xmi) and applies
			the model
			contributions
			to it. User
			deltas are applied afterwards. If
			these
			deltas do not
			apply anymore,
			e.g.
			because the base model has
			changed,
			they will be
			skipped.
		</para>
		<para>
			The deltas are applied to the model
			based on
			the
			IDs of the user
			interface
			component.
		</para>
		<note>
			<para>
				This behavior can be surprising during development. The
				developer
				adds a new part and this part is not visible after
				startup
				of the
				application because Eclipse assumes that the user closed it
				in an
				earlier session. Use the
				<parameter>clearPersistedState</parameter>
				parameter to avoid the processing of user changes at startup.
			</para>
		</note>
	</section>

</section>