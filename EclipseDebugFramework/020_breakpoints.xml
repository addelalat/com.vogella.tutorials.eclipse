= Android - Tutorial
:linkcss:
:sectnums:                                                          
:experimental:
:icons:
:imagesdir: ./img
(c) 2009, 2016 vogella GmbH
Version 0.3, 06.07.2016
:docinfodir: ../
:vgwort: 

[abstract]

	<title>Breakpoints
[[eclipse_breakpoint_debug_model">
=== Eclipse Breakpoint Debug Model
		Breakpoints in general are used to suspend the execution of an
			application at a certain point.
		
		
			In Eclipse breakpoint classes are derived from the
			<code>org.eclipse.debug.core.model.IBreakpoint</code>
			interface. As listed below there are also default implementation for
			breakpoints, as well as more specific breakpoints, e.g.,
			<code>ILineBreakpoint</code>
			, which also informs about a certain position in a document.
		
		
image::breakpoint_hierarchy.png"
						scale="40" />
				</imageobject>
				<textobject>
					<phrase>Class hierarchy of IBreakpoint,pdfwidth=60%]
		
	
[[eclipse_breakpoint_debug_extension_points">
=== Registering custom breakpoints
		
			Eclipse provides the
			<parameter>org.eclipse.debug.core.breakpoints</parameter>
			extension point for registering custom
			<code>IBreakpoint</code>
			classes.
		
		
image::breakpoint_ext_point.png"
						scale="40" />
				</imageobject>
				<textobject>
					<phrase>IBreakpoint extension point,pdfwidth=60%]
		
		
			In this definition a
			<parameter>markerType</parameter>
			attribute is used, because breakpoints do have a reference to an
			<code>IMarker</code>
			, which represents the breakpoint in the UI and it is also used for
			the persistence of breakpoints.
		
		
			Therefore the
			<parameter>org.eclipse.core.resources.markers</parameter>
			extension point is used.
		
		
			<programlisting language="xml">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/breakpoint_marker_sample.adoc[]
			</programlisting>
		
	
[[eclipse_breakpoint_creation">
=== Creating breakpoints in the Eclipse IDE
		
			The easiest approach to create custom breakpoints is to provide an
			implementation of
			<code>org.eclipse.debug.ui.actions.IToggleBreakpointsTarget</code>
			.
		
		
image::togglebreakpointstarget_hierarchy.png"
						scale="40" />
				</imageobject>
				<textobject>
					<phrase>IToggleBreakpointsTarget type hierarchy,pdfwidth=60%]
		
		
			For instance the
			<code>IToggleBreakpointsTargetExtension</code>
			interface provides a
			<code>public boolean canToggleBreakpoints(IWorkbenchPart part,
				ISelection selection)
			</code>
			method and a
			<code>public void toggleBreakpoints(IWorkbenchPart part, ISelection
				selection) throws CoreException;
			</code>
			where a breakpoint can be toggled according to the current
			<code>ISelection</code>
			and/or
			<code>IWorkbenchPart</code>
			.
		
		
			These
			<code>IToggleBreakpointsTarget</code>
			implementations are often provided as an adapter for custom
			<code>IDebugElements</code>
			.
		
		
			<programlisting language="xml">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/togglebreakpoint_adapter.adoc[]
			</programlisting>
		
	
[[eclipse_breakpoint_manager">
=== Registering breakpoints in the IBreakpointManager
		
			When an
			<code>IBreakpoint</code>
			is created, e.g., by a
			<code>IToggleBreakpointsTarget</code>
			, it must be registered to the workspace's
			<code>IBreakpointManager</code>
			.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/RegisterBreakpoint.java" />
			</programlisting>
		
		
			When adding or removing
			<code>IBreakpoints</code>
			from the
			<code>IBreakpointManager</code>
			its
			<code>IBreakpointListener</code>
			will be informed about it and can act upon the added or removed
			breakpoint.
		
		
			An
			<code>IDebugTarget</code>
			is an instance of
			<code>IBreakpointListener</code>
			by default and is therefore in charge to manage changes concerning
			breakpoints.
		
	

