= Android - Tutorial
:linkcss:
:sectnums:                                                          
:experimental:
:icons:
:imagesdir: ./img
(c) 2009, 2016 vogella GmbH
Version 0.3, 06.07.2016
:docinfodir: ../
:vgwort: 

[abstract]

	<title>Exercise: Creating the Debug Model Elements
[[debug_creation_exercise_target">
=== Target
		In this exercise an example debug model will be created, so
			that
			a debug session can be started.
		
		In this debug session a given String will be printed to the
			console char by char. The running application can be suspended at the
			char, which is currently in the work queue.
		
		
			<note>
				
					This exercise is based on
					<ulink
						href="http://www.vogella.com/tutorials/EclipseLauncherFramework/article.html#eclipsecustomlaunchconfigurationui">Launch Configuration UI
					and will make use of the tab and launch delegate, which is created
					in the
					<ulink
						href="http://www.vogella.com/tutorials/EclipseLauncherFramework/article.html#eclipsecustomlaunchconfigurationui">Defining custom launcher for the Eclipse IDE
					tutorial.
				
				
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/vogella_launch_ui.png"
								scale="40" />
						</imageobject>
						<textobject>
							<phrase>Vogella launch UI</phrase>
						</textobject>
					</mediaobject>
				
			</note>
		
	
[[debug_create_idebugelement">
=== Create a common IDebugElement
		
			As mentioned earlier each debug model class is derived from
			<code>IDebugElement</code>
			and contains methods, which are equal for every debug model class.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/ExampleDebugElement.java" />
			</programlisting>
		
		
			<note>
				
					A custom model identifier may also be used. This means it is
					not
					necessary to use the plug-in's id to make everything work
					correctly.
				
			</note>
		
	
[[debug_create_istackframe">
=== Create an IStackFrame
		
			<code>IStackFrames</code>
			are only visible when a thread is suspended, which can also be seen
			in the following
			<xref linkend="debug_create_ithread" />
			section.
		
		
			For instance when debugging a Java application the list of
			<code>IStackFrame</code>
			objects under a thread show the currently suspended Java stacktrace.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/ExampleStackFrame.java" />
			</programlisting>
		
		
			For convenience most of the actions in the ExampleStackFrame are
			delegated to the given
			<code>IThread</code>
			. For visualization the
			<code>getName()</code>
			method returns the character and position of the word, which should
			be
			spelled. In later sections IVariables will be added to this
			<code>IStackFrame</code>
			implementation, so that also available variables are shown in the
			_Variables_
			view.
		
		
			<code>IStackFrame</code>
			classes should also override the
			<code>equals</code>
			and
			<code>hashcode</code>
			methods, because they are usually compared to each other. See
			<code>getStackFrames()</code>
			and
			<code>getTopStackFrame()</code>
			methods in
			<xref linkend="debug_create_ithread" />
			.
		
	
[[debug_create_ithread">
=== Create an IThread
		
			An
			<code>IThread</code>
			is supposed to be a wrapper around a usual Java thread, which runs
			within an
			<code>IDebugTarget</code>
			.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/ExampleThread.java" />
			</programlisting>
		
	
[[debug_create_idebugtarget">
=== Create an IDebugTarget
		
			The
			<code>IDebugTarget</code>
			is supposed to be applied to the
			<code>org.eclipse.debug.core.ILaunch</code>
			object, which is passed to an
			<code>org.eclipse.debug.core.model.LaunchConfigurationDelegate</code>
			, by using its
			<code>addDebugTarget(IDebugTarget target)</code>
			method.
			.
		
		
			It can contain several
			<code>IThreads</code>
			, which run during a debug session.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/ExampleDebugTarget.java" />
			</programlisting>
		
	
[[debug_create_validate">
=== Validate
		
			To validate the result start the ExampleLaunchDelegate, switch
			to the
			debug perspective and use the toolbar controls below to
			suspend,
			resume, step over or terminate the debug session.
		
		
image::debug_toolbar_buttons.png"
						scale="40" />
				</imageobject>
				<textobject>
					<phrase>Debug toolbar buttons,pdfwidth=60%]
		
		
			When passing in "vogella" as String the result should look
			similar to this:
		
		
image::debug_view_result.png[Debug view result,pdfwidth=60%]
		
	

