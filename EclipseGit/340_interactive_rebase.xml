<section id="interactiverebase_egit" role="wrapper">
	<title>Adjusting the history with interactive rebase</title>

	<section id="interactiverebase_egitsupport">
		<title>Support for interactive rebase in Eclipse</title>
		<indexterm>
			<primary>Eclipse Git
			</primary>
			<secondary>Interactive rebase
			</secondary>
		</indexterm>
		<para>
			Git allows to adjust the existing commit history the interactive rebase functionality. Eclipse supports this
			functionality
			rebase via the
			<guilabel>History</guilabel>
			view and the
			<guilabel>Git Interactive Rebase</guilabel>
			view.
		</para>

	</section>
	<section id="interactiverebase_historyview">
		<title>Actions available via the History view</title>
		<indexterm>
			<primary>Eclipse Git
			</primary>
			<secondary>Interactive rebase via the History view
			</secondary>
		</indexterm>
		<para>
			To reword a commit, right-click on it in the
			<guilabel>History</guilabel>
			view and select
			<menuchoice>
				<guimenu>Modify</guimenu>
				<guisubmenu>Reword</guisubmenu>
			</menuchoice>
			to change the commit message.
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/reword_commitmesage_egit10.png"/>
				</imageobject>
				<textobject>
					<phrase>Reword a commit message in Eclipse</phrase>
				</textobject>
			</mediaobject>
		</para>
		<para>
			You can squash several commits by selecting them in the
			<guilabel>History</guilabel>
			view and by using the
			<menuchoice>
				<guimenu>Modify</guimenu>
				<guisubmenu>Squash</guisubmenu>
			</menuchoice>
			menu entry from the context menu.
		</para>


		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/rebase_interactive_squaschcommits10.png"/>
				</imageobject>
				<textobject>
					<phrase>Squash a commit</phrase>
				</textobject>
			</mediaobject>
		</para>
		<para>The above options are simplified ways to do an interactive
			rebase.
		</para>
	</section>
	<section id="interactiverebase_interactiverebaseview">
		<title>Using the Git Interactive Rebase view</title>
		<indexterm>
			<primary>Eclipse Git
			</primary>
			<secondary>Interactive rebase via the Git Interactive Rebase view
			</secondary>
		</indexterm>
		<para>
			The
			<guilabel>Git Interactive Rebase</guilabel>
			view allow you to change the order of commits, combine or remove commits, adjust commits and change the commit
			message.
		</para>
		<para>
			To start the full interactive rebase open the
			<guilabel>History</guilabel>
			view and click
			<menuchoice>
				<guimenu>Rebase Interactive</guimenu>
			</menuchoice>
			on the context menu of the commit
			preceding the
			oldest
			commit you want
			to
			rewrite. Often this
			is the one
			origin/master
			points
			to.
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/egitinteractive_rebase08.png"/>
				</imageobject>
				<textobject>
					<phrase>Interactive Rebase EGit</phrase>
				</textobject>
			</mediaobject>
		</para>
		<para>
			This opens the
			<guilabel>Git Interactive Rebase</guilabel>
			view. It shows the rebase plan populated with the commits to be
			modified
			in topological order in the sequence they will
			be processed. This order is the reverse order which you see via the
			<code>git log</code>
			command or in the
			<guilabel>History</guilabel>
			view.
			The initial action for all commits is "Pick".
		</para>

		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/egitinteractive_rebase10.png"/>
				</imageobject>
				<textobject>
					<phrase>Interactive Rebase EGit</phrase>
				</textobject>
			</mediaobject>
		</para>

		<para>
			The Eclipse Git tooling supports the following actions.

			<table frame='all'>
				<title>Interactive rebase actions</title>
				<tgroup cols='2' align='left' colsep='1' rowsep='1'>
					<colspec colname='c1' colwidth="1*" />
					<colspec colname='c2' colwidth="3*" />
					<thead>
						<row>
							<entry>Action</entry>
							<entry>Description</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>pick</entry>
							<entry>includes the selected commit, moving pick entries enables
								reordering of commits
							</entry>
						</row>
						<row>
							<entry>skip</entry>
							<entry>removes a commit</entry>
						</row>
						<row>
							<entry>edit</entry>
							<entry>amends the commit
							</entry>
						</row>
						<row>
							<entry>squash</entry>
							<entry>combines the changes of the commit with the previous
								commit
								and combines their commit messages
							</entry>
						</row>
						<row>
							<entry>fixup</entry>
							<entry>squashes the changes of a commit into the previous
								commit discarding the squashed commit's message
							</entry>
						</row>
						<row>
							<entry>reword</entry>
							<entry>similar to pick but allows modifying the commit message
							</entry>
						</row>




					</tbody>
				</tgroup>
			</table>

		</para>

		<para>
			Use this view to finalize the rebase plan. For example you
			can
			reorder commits with the arrow buttons and select
			the rebase
			action you
			want to apply to the commit. The following screenshot
			demonstrates a
			possible selection.
		</para>

		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/egitinteractive_rebase30.png"/>
				</imageobject>
				<textobject>
					<phrase>Interactive Rebase EGit</phrase>
				</textobject>
			</mediaobject>
		</para>

		<para>
			When the rebase plan is finalized, click the
			<guilabel>Start</guilabel>
			button to start the interactive rebase command.
			Eclipse Git processes
			the
			plan. It stops at all commits with an action
			which
			needs
			user
			feedback, for example the reword action which requires entering
			the new
			commit message. The dialog for
			changing the commit message is depicted
			in the following screenshot.
		</para>

		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/egitinteractive_rebase40.png"/>
				</imageobject>
				<textobject>
					<phrase>Interactive Rebase EGit</phrase>
				</textobject>
			</mediaobject>
		</para>

		<para>
			Here is the result of the rebase operation displayed in the
			<guilabel>History</guilabel>
			view.
		</para>

		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/egitinteractive_rebase50.png"/>
				</imageobject>
				<textobject>
					<phrase>Interactive Rebase EGit</phrase>
				</textobject>
			</mediaobject>
		</para>

		<tip>
			<para>
				If something goes wrong during the rebase operation you can
				select
				<guilabel>Abort</guilabel>
				in order to stop the rebase operation and
				roll back to the
				starting
				point.
			</para>
		</tip>

	</section>
</section>
