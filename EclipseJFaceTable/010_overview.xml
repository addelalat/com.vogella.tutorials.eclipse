<section id="jfacetable" role="wrapper">
	<title>JFace Table Viewer</title>

	<section id="jfacetable_viewer">
		<title>Using the JFace TableViewer</title>
		<indexterm>
			<primary>TableViewer (JFace)</primary>
		</indexterm>

		<indexterm>
			<primary>JFace</primary>
			<secondary>TableViewer</secondary>
		</indexterm>
		<para>
			You can use the
			<code>TableViewer</code>
			class to create tables using the JFace framework. The SWT
			<code>Table</code>
			widget
			is wrapped into the
			<code>TableViewer</code>
			and can still be accessed to set its properties.
		</para>


		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/snippets/viewer.java" />
			</programlisting>
		</para>


	</section>
	<section id="jfacetable_contentprovider">
		<title>Content provider for JFace tables</title>
		<para>
			As with other JFace
			viewers a
			content provider
			supplies the data which
			should be displayed in the
			<code>TableViewer</code>
			.
		</para>
		<para>
			Eclipse provides an implementation
			of
			this interface via the
			<code>ArrayContentProvider</code>
			class.
			The
			<code>ArrayContentProvider</code>
			class supports Arrays or Collections as input, containing the
			domain
			data. You can implement your own
			content provider
			for a table
			by implementing
			the interface
			<code>IStructuredContentProvider</code>
			from the
			<code>org.eclipse.jface.viewers</code>
			package.
		</para>
		<para>
			The
			<code>getElements()</code>
			method of the
			content provider
			is used to translate the input of the
			viewer into an array of elements. Once the
			<code>setInput()</code>
			method on the viewer is called, it uses the content provider to
			convert it. This is the reason why the content provider must be set
			before the
			<code>setInput()</code>
			method is called.
		</para>

		<para>
			Each object in the Array returned by the content provider is
			displayed as individual element by the
			viewer. In case of the table
			viewer each object is displayed in an
			individual row.
		</para>
		<para>
			The usage of the content provider is demonstrated with the
			following code snippet.
		</para>

		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/snippets/contentprovider.java" />
			</programlisting>
		</para>
	</section>


	<section id="jfacetable_labelprovider">
		<title>Columns and label provider</title>
		<para>
			Columns for a JFace
			<code>TableViewer</code>
			object
			are defined by creating instances of the
			<code>TableViewerColumn</code>
			class.
		</para>
		<para>
			Each
			<code>TableViewerColumn</code>
			object
			needs to get a
			label provider
			assigned to it via the
			<code>setLabelProvider()</code>
			method. The
			label provider
			defines which data is displayed in the
			column. The label provider for a table viewer column is called
			per row
			and gets the corresponding object as input. It uses this
			input to
			determine which data is displayed in the column for this
			row.
		</para>
		<para>
			Typically the label provider returns a String, but more complex
			implementations
			are possible.
		</para>
		<para>
			The
			<code>setLabelProvider()</code>
			method on the
			<code>TableViewerColumn</code>
			expects an instance of the abstract
			<code>CellLabelProvider</code>
			class. A default implementation of this class is
			provided by the
			<code>ColumnLabelProvider</code>
			class. Its usage is demonstrated in the following code snippet.
		</para>

		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/snippets/columns.txt" />
			</programlisting>
		</para>
		<para>
			The above code uses two fields which contain
			<code>Image</code>
			instances. These fields could for example be initialized via the
			following
			code. Using the classes in this code requires a dependency
			to the
			<code>org.eclipse.core.runtime</code>
			plug-in.
		</para>
		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/snippets/columnshelper.txt" />
			</programlisting>
		</para>

	</section>

	<section id="jfacetable_datachanges">
		<title>Reflect data changes in the viewer</title>
		<para>
			To reflect data changes in the data model that is displayed by the
			viewer,
			you can call the
			<code>viewer.refresh()</code>
			method. This method updates the
			viewer
			based on the data which is
			assigned to it.
		</para>
		<para>
			To change the data which is displayed use the
			<code>viewer.setInput()</code>
			method.
		</para>
	</section>

	<section id="jfacetable_selectionlistener">
		<title>Selection change listener</title>
		<para>
			Via the
			<code>addSelectionChangedListener</code>
			method you can add a
			listener to a viewer. This listener is an
			implementation of the
			<code>ISelectionChangedListener</code>
			interface. The following code shows an example that gets the selected
			element of the viewer.
		</para>

		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/snippets/listener.java" />
			</programlisting>
		</para>


	</section>

</section>