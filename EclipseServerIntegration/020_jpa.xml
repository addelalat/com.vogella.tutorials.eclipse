== Using the JPA in an OSGi environment
	
		The usage of JPA to access a database, either embedded or standalone, requires a special setup, as you must
		configure JPA to run in an OSGi runtime.
	
	In case JPA should be used within an OSGi environment, e.g., an Eclipse RCP application,
		some rules have to be considered.
	
	
		<itemizedlist>
			<listitem>
				
					Tell the
					`PersistenceProvider`
					, which classloader should be
					used
				
			</listitem>
			<listitem>
				
					Place the
					_persistence.xml_
					in the
					_META-INF_
					folder of the bundle, where the
					`EntityManager`
					is created
				
			</listitem>
		</itemizedlist>
	
	
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" parse="text" href="./examples/osgi/osgi_jpa.java[]
----
	
	
		<mediaobject>
			<imageobject>
				<imagedata fileref="images/persistence.xml-location.png" />
			</imageobject>
		</mediaobject>
	

	
		You find an example for this on
		https://github.com/wolkenschieber/e4JPA">Github
		.
	

