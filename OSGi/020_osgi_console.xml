
== Using the OSGi console

=== The OSGi console
		

		
			The OSGi console is
			like a command-line shell.
			In this console you
			can
			type a command to perform
			an OSGi
			action.
			This
			can be useful to
			analyze problems on the OSGi layer of your
			application.
		
		
			Use, for example, the command
			`ss`
			to get an overview of all
			bundles, their status and bundle-id.
			The
			following table is a
			reference of the most important
			OSGi commands.
		

		
			<table frame='all'>
		=== OSGi commands
				<tgroup cols='2' align='left' colsep='1' rowsep='1'>
					<colspec colname='c1' colwidth="1*" />
					<colspec colname='c2' colwidth="2*" />
					<thead>
						<row>
							<entry>Command</entry>
							<entry>Description</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>help</entry>
							<entry>Lists the available commands.</entry>
						</row>
						<row>
							<entry>ss</entry>
							<entry>Lists the installed bundles and
								their
								status.
							</entry>
						</row>
						<row>
							<entry>
								ss
								_vogella_
							</entry>
							<entry>
								Lists bundles and their status
								that have
								_vogella_
								within
								their name.
							</entry>
						</row>
						<row>
							<entry>
								start
								_<![CDATA[<bundle-id>]]>_
							</entry>
							<entry>
								Starts the bundle with the
								_<![CDATA[<bundle-id>]]>_
								ID.
							</entry>
						</row>
						<row>
							<entry>
								stop
								_<![CDATA[<bundle-id>]]>_
							</entry>
							<entry>
								Stops the bundle with the
								_<![CDATA[<bundle-id>]]>_
								ID.
							</entry>
						</row>
						<row>
							<entry>
								diag
								_<![CDATA[<bundle-id>]]>_
							</entry>
							<entry>Diagnoses a particular bundle. It lists all missing
								dependencies.
							</entry>
						</row>
						<row>
							<entry>
								install
								_URL_
							</entry>
							<entry>Installs a bundle from a URL.</entry>
						</row>
						<row>
							<entry>
								uninstall
								_<![CDATA[<bundle-id>]]>_
							</entry>
							<entry>
								Uninstalls the bundle with the
								_<![CDATA[<bundle-id>]]>_
								ID.
							</entry>
						</row>
						<row>
							<entry>
								bundle
								_<![CDATA[<bundle-id>]]>_
							</entry>
							<entry>
								Shows information about the bundle with the
								_<![CDATA[<bundle-id>]]>_
								ID,
								including the
								registered
								and used services.
							</entry>
						</row>
						<row>
							<entry>
								headers
								_<![CDATA[<bundle-id>]]>_
							</entry>
							<entry>
								Shows the MANIFST.MF information for a bundle.
							</entry>
						</row>
						<row>
							<entry>
								services
								_filter_
							</entry>
							<entry>
								Shows all available services and their consumer. Filter is
								an optional LDAP filter, e.g., to see all
								services which provide
								a
								ManagedService implementation use the "services
								(objectclass=*ManagedService)" command.
							</entry>
						</row>
					</tbody>
				</tgroup>
			</table>
		
	

=== Required bundles
		
			You have to add the
			following
			bundles to your runtime configuration to
			use the OSGi
			console.
			<itemizedlist>
				<listitem>
					org.eclipse.equinox.console
				</listitem>
				<listitem>
					org.apache.felix.gogo.command
				</listitem>
				<listitem>
					org.apache.felix.gogo.runtime
				</listitem>
				<listitem>
					org.apache.felix.gogo.shell
				</listitem>
			</itemizedlist>
		

	


=== Telnet
		
			If you specify the
			_-console_
			parameter in your launch configuration Eclipse will allow you to
			interact with the OSGi console. An OSGi launch
			configuration created
			with the Eclipse IDE contains
			this
			parameter by default. Via the following parameter
			you can open a
			port to which you can connect via the telnet protocol.
		
		
			_-console 5555_
		
		
			If you open a
			telnet session to
			the OSGi console, you can use tab
			completion and a
			history of the
			commands similar to the
			_Bash_
			shell under Linux.
		
	

=== Access to the Eclipse OSGi console
		
			You can also access the OSGi console of your running Eclipse
			IDE. In
			the
			_Console_
			_
				View
			_
			you find a menu entry with the
			tooltip
			_Open Console_
			.
			If you select
			_Host OSGi Console_
			,
			you will have access
			to
			your running OSGi instance.
		
		
			Please note that interfering with your running Eclipse IDE via
			the OSGi console, may put the Eclipse IDE into a
			bad state.
		
	

