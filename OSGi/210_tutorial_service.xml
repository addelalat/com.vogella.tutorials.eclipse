<section id="dataservice_plugin" role="wrapper">
	<title>Exercise: Create service bundle</title>
	<section>
		<title>Target of the exercise</title>
		<para> In this exercise you create a plug-in for a service
			implementation which provides access to the data.
		</para>
		<para>This service implementation uses transient data storage, i.e.,
			the
			data is not persisted between
			application
			restarts. To persist
			the
			data you could extend this class
			to store the data for example in
			a
			database or
			the file system.
			As this
			storage is
			not
			special for
			Eclipse
			RCP
			applications, it is not covered
			in
			this
			$book.
		</para>
	</section>
	<section id="services_todo3">
		<title>Create a data model provider plug-in (service plug-in)</title>
		<para>
			Create a new simple plug-in (see
			<xref linkend="simpleplugin" />
			) project called
			<wordasword>com.example.e4.rcp.todo.services</wordasword>
			.
			This plug-in is called
			<wordasword>todo service</wordasword>
			plug-in in the following description.
		</para>
		<tip>
			<para>
				The MacOS operating system treads folders ending with
				<filename>.service</filename>
				special, therefore we use the
				<filename>.services</filename>
				ending.
			</para>
		</tip>
	</section>
	<section id="services_todo_dependency">
		<title>Define the dependencies in the service plug-in</title>
		<para>
			Add the
			<code>com.example.e4.rcp.todo.model</code>
			plug-in as dependency to your service plug-in. To achieve this
			open
			the
			<filename>MANIFEST.MF</filename>
			file and select the
			<guilabel>Dependencies</guilabel>
			tab and add the
			<code>com.example.e4.rcp.todo.model</code>
			package
			to the
			<guilabel>Imported Packages</guilabel>
			.
		</para>
	</section>

	<section id="services_todo_impl">
		<title>Provide an implementation of the ITodoService interface</title>
		<para>
			Create the
			<code>com.example.e4.rcp.todo.services.internal</code>
			package in your service plug-in and create the following class.
		</para>
		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" parse="text" href="./examples/server/MyTodoServiceImpl.java" />
			</programlisting>
		</para>
	</section>

	<section id="services_todo_productconfiguration">
		<title>Update the product configuration (via your feature)</title>

		<para>
			Add
			your new
			<code>*.model</code>
			and
			<code>*.services</code>
			plug-ins to
			your
			<code>com.example.e4.rcp.todo.feature</code>
			feature. Ensure that you use the
			<guilabel>Plug-ins</guilabel>
			tab on the
			<filename>feature.xml</filename>
			file.
		</para>
		<warning>
			<para>
				Every time you create a new plug-in and refer to it in your
				<filename>MANIFEST.MF</filename>
				file
				you have to add it to your product configuration file (via
				your
				feature project).
			</para>
		</warning>
	</section>

</section>
